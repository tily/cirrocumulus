%nav.navbar.navbar-fixed-top{role:"navigation",style:'padding-bottom:0px'}
	.container{style:"padding-top:0.5em;padding-bottom:0.5em;border-bottom:1px solid #839496"}
		%strong
			%a{href:"/?query=#{@author}"}= @author
			= @title
		= "(文庫本 約 #{@doc.text.size / 600} ページ分)"
		- if params[:mode] == 'line'
			(台詞)
		- elsif params[:mode] == 'sort'
			(ソート)
		%span.pull-right
			%span.dropdown
				%a.dropdown-toggle{:href=>'#',:'data-toggle'=>'dropdown'}
					モード
					%span.caret
				%ul.dropdown-menu
					%li
						%a{href:"#{URI.parse(work_url(params)).path}"} 通常
					%li
						%a{href:"#{URI.parse(work_url(params)).path}?mode=line"} 台詞
					%li
						%a{href:"#{URI.parse(work_url(params)).path}?mode=sort"} ソート
					%li
						%a#locate{href:"#"} 位置づける
			= "&nbsp;/&nbsp;"
			%a{href:work_url(params)} 青空文庫
			= "&nbsp;/&nbsp;"
			%a{href:'/'} 鰯雲
.container#content{style:'padding-top: 4.0em;'}
	!= @doc.to_s
:coffeescript
	hash = window.location.hash
	if hash.match(/^#([0-9]{1,3})%25$/)
		percent = RegExp.$1
		console.log percent
		console.log $('#content').prop('scrollHeight') * parseInt(percent)
		scrollTop = $('#content').prop('scrollHeight') * parseInt(percent) / 100
		console.log 'hello', scrollTop
		$('html, body').animate({scrollTop: scrollTop}, 1)
	$('#locate').on 'click', (e)->
		e.preventDefault()	
		percent = Math.round($('body').scrollTop() / $('#content').height() * 100)
		window.location.hash = percent + '%25'
